services:
  frontend:
    ports:
      - "5173:5173"
    build:
      context: ./src/frontend
      dockerfile: ../../Frontend.Dockerfile
    environment:
      DATA_RETRIEVAL_SERVICE_ADDRESS: $DATA_RETRIEVAL_SERVICE_ADDRESS
      DATA_COLLECTION_SERVICE_ADDRESS: $DATA_COLLECTION_SERVICE_ADDRESS
  data-providing-middleware:
    ports:
      - "8001:8001"
    build:
      context: .
      dockerfile: DataRetrieval.Dockerfile
    environment:
      PATH_TO_DATA_FILES: ../../../data/
      ES_URL: $ES_URL
      ES_INDEX: $ES_INDEX
      ES_USERNAME: $ES_USERNAME
      ES_PASSWD: $ES_PASSWD
  data-collecting-middleware:
    ports:
      - "8002:8002"
    build:
      context: ./src/middleware
      dockerfile: ../../DataCollection.Dockerfile
    environment:
      BEARER_TOKEN: $BEARER_TOKEN
      ES_URL: $ES_URL
      ES_INDEX: $ES_INDEX
      ES_USERNAME: $ES_USERNAME
      ES_PASSWD: $ES_PASSWD